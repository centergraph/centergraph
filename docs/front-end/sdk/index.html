<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><title>SDK</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script><link rel="stylesheet" href="/_astro/files.6YZ8_Y1O.css" /></head> <body class="p-5"> <a href="/"> <img src="/logo.svg" class="site-logo"> </a> <div class="text-muted mb-5"> <em>[In active development but far from stable]</em> </div> <h1>SDK</h1> <main id="site-main"><p>CenterGraph comes with an SDK package. This package is somewhat geared towards React but the core functionality is also available as thenables.</p>
<h2 id="new-centergraphoptions"><code>new CenterGraph(Options)</code></h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { CenterGraph } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;@centergraph/sdk&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> api</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> CenterGraph</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  base: </span><span style="color:#9ECBFF">&#39;http://my-centergraph-domain.com&#39;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">})</span></span></code></pre>
<ul>
<li>base: The domain where your CenterGraph server is hosted. In development mode this should be: <a href="http://localhost:8000">http://localhost:8000</a>.</li>
</ul>
<h2 id="getting-types-for-your-data">Getting types for your data</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;dev&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;wait-on http://localhost:8000 &amp;&amp; curl http://localhost:8000/api/types &gt; src/types.ts &amp;&amp; vite --port=8001&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>It is recommended to use something similar to the above code sample. It fetches the types from the back-end and saves them in a local folder. If you are using Deno it is also possible to hot-link to the types.</p>
<p>All the types are in one file so it is easy to update the whole file.</p>
<p>The <a href="https://www.npmjs.com/package/wait-on">wait-on</a> tool can help you in waiting for the back-end server to come online. This is helpful for development where you might start all the tools at once.</p>
<h2 id="apigettype-thenabletype"><code>api.get&lt;Type&gt;(): Thenable&lt;Type&gt;</code></h2>
<p>Fetch a document. This method does not understand what data is flowing through it, so it is to the developer to add the type.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { Person } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;./types&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> person</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> api.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Person</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#9ECBFF">&#39;/contacts/john-doe&#39;</span><span style="color:#E1E4E8">)</span></span></code></pre>
<p>If you would like to have a resource that is possible by adding <code>.asResource()</code> to the chain.
The technical details are quite well explained here: <a href="https://www.youtube.com/watch?v=uZnXwuhYZBc">https://www.youtube.com/watch?v=uZnXwuhYZBc</a>.</p>
<p>The core idea of a Resource is that it throws a Promise instead of an Error as long as the promise is not resolved. React will resolve the promise and try again to render your component untill it does not catch a promise.</p>
<p>The state and cache of the promise are inside the api.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> MyComponent</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> person</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> api.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Person</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#9ECBFF">&#39;/contacts/john-doe&#39;</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">asResource</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#B392F0">h1</span><span style="color:#E1E4E8">&gt;Hi {person.name}</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">h1</span><span style="color:#F97583">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="apigetfolderpath-string-thenablenamednode"><code>api.getFolder(path: string): Thenable&lt;NamedNode[]&gt;</code></h2>
<p>Retrieves the paths as <code>NamedNode&lt;string&gt;</code>s from a folder.
If you would like to have a resource that is possible by adding <code>.asResource()</code> to the chain.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> folderUrls</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> api.</span><span style="color:#B392F0">getFolder</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;/contacts/&#39;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> MyComponent</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> folderUrls</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> api.</span><span style="color:#B392F0">getFolder</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;/contacts/&#39;</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">asResource</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#F97583">  ...</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="apiquery"><code>api.query</code></h2>
<p>A fluent API that will return <code>NamedNode&lt;string&gt;[]</code> ultimately. You can create a query by chaining more parts to it.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> count</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> api.count.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">rdf</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;type&#39;</span><span style="color:#E1E4E8">), </span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;Person&#39;</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;givenName&#39;</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;name&#39;</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#6A737D">// Thenable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> resource</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> count.</span><span style="color:#B392F0">asResource</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#6A737D">// Resource</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> number</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> count</span></span>
<span class="line"><span style="color:#6A737D">// 3</span></span></code></pre>
<h2 id="apicount"><code>api.count</code></h2>
<p>A fluent API that will return a number ultimately. You can create a query by chaining more parts to it.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> count</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> api.count.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">rdf</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;type&#39;</span><span style="color:#E1E4E8">), </span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;Person&#39;</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;givenName&#39;</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">schema</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;name&#39;</span><span style="color:#E1E4E8">))</span></span></code></pre>
<h2 id="view-dataapigetcontactsjohn-doe-ascard"><code>&lt;View data={api.get(&#39;/contacts/john-doe&#39;)} as=&quot;card&quot; /&gt;</code></h2>
<p>Uses the SHACL renderer to display data according to the SHACL shape that is referenced in the <code>sh:shapesGraph</code>. The <code>as=&quot;card&quot;</code> specifies the sub graph that is references. Inside a SHACL shape document there can be multiple graphs each for displaying the data in a different way. There also will be a main shape to use for forms.</p>
<h2 id="form-dataapigetcontactsjohn-doe"><code>&lt;Form data={api.get(&#39;/contacts/john-doe&#39;)} /&gt;</code></h2>
<p>Uses the SHACL renderer to display data according to the SHACL shape that is referenced in the <code>sh:shapesGraph</code>.</p></main> </body></html>